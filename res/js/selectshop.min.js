jQuery(function (a) {
    var c = a("#js-region"),
        f = a("#js-shop"),
        h = f.find("li");
    f.scrollUpDown();
    f.on("click", "li",
        function () {
            if (a(this).hasClass("current")) {
                return
            }
            a(this).siblings().removeClass("current").end().addClass("current")
        });
    c.scrollUpDown();
    c.on("click", "li",
        function () {
            if (a(this).hasClass("current")) {
                return
            }
            a(this).siblings().removeClass("current").end().addClass("current");
            f.unbindScrollUpDown();
            var i = a(this).data("regionId");
            h.each(function () {
                if (i === a(this).data("regionId")) {
                    a(this).show()
                } else {
                    a(this).hide()
                }
            });
            f.scrollUpDown()
        });
    var e = c.find("li"),
        h = f.find("li"),
        g = +location.hash.substring(1);
    if (g) {
        for (var b = h.length; b--;) {
            if (g === h.eq(b).data("shopId")) {
                h.eq(b).trigger("click");
                var d = h.eq(b).data("regionId");
                for (var b = e.length; b--;) {
                    if (d === e.eq(b).data("regionId")) {
                        e.eq(b).trigger("click");
                        break
                    }
                }
                break
            }
        }
    } else {
        if (c.find("li.current").length === 0) {
            e.eq(0).trigger("click")
        }
    }
    //var j = a("#js-submit"),
    //    l = j.data("url"),
    //    k = j.attr("href");
    //j.on("click",
    //    function (m) {
    //        m.preventDefault();
    //        var i = f.find("li.current");
    //        if (i.length === 0) {
    //            tipsPopup()
    //        } else {
    //            a.post(l, {
    //                    shopId: i.data("shopId"),
    //                    productId:$("#SproductId").val(),
    //                    modeId:$("#SmodeId").val(),
    //                    estimatePrice:$("#SestimatePrice").val(),
    //                    pricerules:$("#Spricerules").val(),
    //                    cityId:$("#ScityId").val()
    //                },
    //                function (n) {
    //                    if (n.Success) {
    //                        window.location.href = addURLRandom(k)
    //                    } else {
    //                        tipsPopup(n.Message)
    //                    }
    //                })
    //        }
    //    })
});