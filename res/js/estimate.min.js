jQuery(function(n) {

    function d() {
        var t = n("#js-recommand-shop"),
            i;
        t.length && !t.data("selected") && (i = f.find("li.username,li.number"), navigator.geolocation && navigator.geolocation.getCurrentPosition && navigator.geolocation.getCurrentPosition(function(r) {
            n.post(t.data("url"), {
                    longitude: r.coords.longitude,
                    latitude: r.coords.latitude
                },
                function(n) {
                    n.Success && (t.html("<a href=" + t.data("href") + n.Data.Id + ">" + n.Data.Name + "<span>（最近）<\/span><\/a>").data("selected", !0), i.removeClass("hide"))
                },
                "json")
        }))
    }
    function p(t, i) {
        var r = !t.data("loaded");
        r && e.removeClass("hide");
        n.get(t.data("href"),
            function(u) {
                r && (rt.eq(t.index()).html(u), t.data("loaded", !0), e.addClass("hide"), n.isFunction(i) && i())
            },
            "html")
    }
    function nt(t, i) {
        return h && h.abort(),
            h = n.ajax({
                url: it,
                type: "post",
                dataType: "json",
                data: {
                    Name: t,
                    Mobile: i
                }
            })
    }
    function ut() {
        var n, t;
        return f.find("li.select-shop").data("selected") ? f.find("li.select-payment").data("selected") ? (n = f.find("li.username input").val(), !verifyUtils.username(n)) ? (tipsPopup("请输入姓名"), !1) : (t = f.find("li.number input").val(), !verifyUtils.mobile(t)) ? (tipsPopup("请输入正确的手机号"), !1) : !0 : (tipsPopup("请选择支付方式"), !1) : (tipsPopup("请选择门店"), !1)
    }
    function ft() {
        var t, i, r;
        return s.find("li.select-face-trade").data("selected") ? s.find("li.select-payment").data("selected") ? (t = n("#js-face-date-btn").data("date"), !t) ? (tipsPopup("请选择交易时间"), !1) : (i = s.find("li.username input").val(), !verifyUtils.username(i)) ? (tipsPopup("请输入姓名"), !1) : (r = s.find("li.number input").val(), !verifyUtils.mobile(r)) ? (tipsPopup("请输入正确的手机号"), !1) : !0 : (tipsPopup("请选择支付方式"), !1) : (tipsPopup("请选择当面交易方式"), !1)
    }
    function et() {
        var n, t;
        return y.find("li.select-bank").data("selected") ? (n = y.find("li.username input").val(), !verifyUtils.username(n)) ? (tipsPopup("请输入姓名"), !1) : (t = y.find("li.number input").val(), !verifyUtils.mobile(t)) ? (tipsPopup("请输入正确的手机号"), !1) : !0 : (tipsPopup("请填写银行卡信息"), !1)
    }
    var v = n("#body"),
        t = n("#js-price"),
        u = t.data("basePrice"),
        b = t.data("subsidy"),
        e = n("#loading"),
        o = n("#js-trade-menu"),
        tt = o.data("url"),
        i = n("#js-trade-content"),
        it = i.data("url"),
        rt = i.children(),
        f = i.find("li.shop"),
        s = i.find("li.face"),
        y = i.find("li.express"),
        r,
        g,
        h;
    //if (k(), d(), o.tab({
    //        isIndex: !0,
    //        contentItemSelector: "#js-trade-content>li",
    //        contentCurrent: "show",
    //        callback: function(n) {
    //            n.hasClass("shop") ? (t.text(u + b + t.data("plus")), p(n), d(), v.addClass("body-shop").removeClass("body-face body-express")) : n.hasClass("face") ? (t.text(u + t.data("plus")), p(n, k), v.addClass("body-face").removeClass("body-shop body-express")) : n.hasClass("express") && (t.text(u + t.data("plus")), p(n), v.addClass("body-express").removeClass("body-face body-shop"))
    //        }
    //    }), r = n("#js-mobile-account"), r.length) {
    //    g = r.find("input");
    //    r.on("click", "h2",
    //        function() {
    //            r.toggleClass("checked")
    //        });
    //    n("#js-mobile-account-popup-btn").popup({
    //        isFullScreen: !0,
    //        popupWrapSelector: "#js-mobile-account-popup-wrap"
    //    })
    //}
    //i.on("blur", "li.show input",
    //    function() {
    //        var t = n(this).closest("li.show"),
    //            i = t.find("li.username input").val(),
    //            r = t.find("li.number input").val();
    //        verifyUtils.username(i) && verifyUtils.mobile(r) && nt(i, r)
    //    });


});